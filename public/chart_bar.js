var ctx = $("#Charts");
var ctxx = $("#Charts_polar");
var a = [0, 0, 0, 0];
var c = [0, 0, 0, 0];
var power_consumption = [0, 0, 0, 0];
function chartButton() {
  b = localStorage.getItem("chart").split(",");
  for (i = 0; i < 4; i++) {
    a[i] = parseInt(b[i]);
  }
  houses = localStorage.getItem("houses").split(",");
  for (i = 0; i < 4; i++) {
    c[i] = parseInt(houses[i]);
  }
  consumption = localStorage.getItem("consumption").split(",");
  for (i = 0; i < 4; i++) {
    power_consumption[i] = parseInt(consumption[i]);
  }
  console.log(power_consumption);

  console.log("the value of a is", a);
  c[0] = c[0] * power_consumption[0];
  c[1] = c[1] * power_consumption[1];
  c[2] = c[2] * power_consumption[2];
  c[3] = c[3] * power_consumption[3];
  console.log("the value of c is", c);
  $("#r1").hide();
  $("#r2").hide();
  $("#r3").hide();
  $("#r4").hide();
  $("#r5").hide();
  $("#r6").hide();
  var myChart = new Chart(ctx, {
    type: "bar",
    data: {
      labels: ["House1", "House2", "House3", "House4"],
      datasets: [
        {
          label: "TOTAL POWER GENERATED BY ONE SOLAR PANEL (Watts)",
          data: [a[0], a[1], a[2], a[3]],
          backgroundColor: ["#633EBB", "#F13C59", "#BE61CA", "#ffa600"],
          borderColor: [
            "rgba(0, 0, 0, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
          ],
          borderWidth: 1,
        },
      ],
    },
    options: {
      scales: {
        yAxes: [
          {
            ticks: {
              beginAtZero: true,
            },
          },
        ],
      },
    },
  });

  var myChart = new Chart(ctxx, {
    type: "polarArea",
    data: {
      labels: ["House1", "House2", "House3", "House4"],
      datasets: [
        {
          label: "Total Power Generation",
          data: [c[0], c[1], c[2], c[3]],
          backgroundColor: ["#633EBB", "#F13C59", "#BE61CA", "#ffa600"],
          borderColor: [
            "rgba(0, 0, 0, 1)",
            "rgba(54, 162, 235, 1)",
            "rgba(255, 206, 86, 1)",
            "rgba(75, 192, 192, 1)",
          ],
          borderWidth: 1,
        },
      ],
    },
    options: {
      title: {
        display: true,
        position: "bottom",
        text: "POWER REQUIRED FROM GRID",
      },
    },
  });
}
